include ~/.config/i3/modes.conf

# This file has been auto-generated by an i3 wrapper
# It will be overwritten anytime i3 is restarted.
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

set $copy-tool xclip -selection pasteboard

hide_edge_borders both

focus_follows_mouse no
default_border none

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
font pango:Atkinson Hyperlegible Next 12
# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# resize window (you can also use the mouse for that)
mode "resize" {
# These bindings trigger as soon as you enter the resize mode

# Pressing left will shrink the window’s width.
# Pressing right will grow the window’s width.
# Pressing up will shrink the window’s height.
# Pressing down will grow the window’s height.
  bindsym j resize shrink width 10 px or 10 ppt
    bindsym k resize grow height 10 px or 10 ppt
    bindsym l resize shrink height 10 px or 10 ppt
    bindsym semicolon resize grow width 10 px or 10 ppt

# same bindings, but for the arrow keys
    bindsym Left resize shrink width 10 px or 10 ppt
    bindsym Down resize grow height 10 px or 10 ppt
    bindsym Up resize shrink height 10 px or 10 ppt
    bindsym Right resize grow width 10 px or 10 ppt

# back to normal: Enter or Escape
    bindsym Shift+Escape mode "default"
    bindsym Return exec --no-startup-id special_mode_exit
    bindsym Escape exec --no-startup-id special_mode_exit
}

set $mode_movement Movement
mode "$mode_movement" {
# move focused window
  bindsym $mod+h move left
  bindsym $mod+j move down
  bindsym $mod+k move up
  bindsym $mod+l move right

# alternatively, you can use the cursor keys:
  bindsym $mod+Left move left
  bindsym $mod+Down move down
  bindsym $mod+Up move up
  bindsym $mod+Right move right

    # back to normal: Enter or Escape
    bindsym Shift+Escape mode "default"
    bindsym Return exec --no-startup-id special_mode_exit
    bindsym Escape exec --no-startup-id special_mode_exit
}

set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
  bindsym l exec --no-startup-id i3lock, exec --no-startup-id special_mode_exit
    bindsym e exec --no-startup-id i3msg exit, exec --no-startup-id special_mode_exit
    bindsym s exec --no-startup-id systemctl suspend && i3lock && special_mode_exit
    bindsym h exec --no-startup-id systemctl hibernate && i3lock && special_mode_exit
    bindsym r exec --no-startup-id systemctl reboot
    bindsym Shift+s exec --no-startup-id systemctl poweroff

    # back to normal: Enter or Escape
    bindsym Shift+Escape mode "default"
    bindsym Return exec --no-startup-id special_mode_exit
    bindsym Escape exec --no-startup-id special_mode_exit
}

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
  workspace_buttons no
    status_command i3status
    bindsym button1 nop
    bindsym button2 nop
    bindsym button3 nop
    bindsym button4 nop
    bindsym button5 nop
    bindsym button6 nop
    bindsym button7 nop
    bindsym button8 nop
    bindsym button9 nop
}
exec --no-startup-id nm-applet

mode "mouse" {

	# set your three speeds here

	set $slow 5
	set $quick 25
	set $fast 75

	# Mouse movement (slow/fine-tuned) -- vim keybindings

	bindsym h exec xdotool mousemove_relative -- -$fast 0
	bindsym j exec xdotool mousemove_relative 0 $fast
	bindsym k exec xdotool mousemove_relative -- 0 -$fast
	bindsym l exec xdotool mousemove_relative $fast 0

	# Mouse movement (quicker) -- vim keybindings

	bindsym n exec xdotool mousemove_relative -- -$quick 0
	bindsym m exec xdotool mousemove_relative 0 $quick
	bindsym comma exec xdotool mousemove_relative -- 0 -$quick
	bindsym period exec xdotool mousemove_relative $quick 0

	# Mouse movement (slow) -- vim keybindings

	bindsym bracketleft exec xdotool mousemove_relative -- -$slow 0
	bindsym bracketright exec xdotool mousemove_relative 0 $slow
	bindsym grave exec xdotool mousemove_relative -- 0 -$slow
	bindsym less exec xdotool mousemove_relative $slow 0

	# Left Click
	bindsym f exec --no-startup-id xdotool mousedown 1
	bindsym --release f exec --no-startup-id xdotool mouseup 1

	# Middle Click
	bindsym d exec --no-startup-id xdotool mousedown 2
	bindsym --release d exec --no-startup-id xdotool mouseup 2

	# Right Click
	bindsym s exec --no-startup-id xdotool mousedown 3
	bindsym --release s exec --no-startup-id xdotool mouseup 3

	# Left Click-and-drag
	bindsym r exec xdotool mousedown 1

	# Middle Click-and-drag 
	bindsym e exec xdotool mousedown 2

	# Right Click-and-drag
	bindsym w exec xdotool mousedown 3

	# Left Drag release
	bindsym v exec xdotool mouseup 1

	# Middle Drag release
	bindsym c exec xdotool mouseup 2

	# Right Drag release
	bindsym x exec xdotool mouseup 3


	# return to normal keybindings -- IMPORTANT!!

	bindsym Escape exec --no-startup-id special_mode_exit
}

bindsym $mod+Shift+m mode "mouse"

assign [app_id="firefox-default"] 15: Playwright
assign [app_id="firefox"] 14: Web
assign [app_id="librewolf"] 14: Web
#assign [app_id="slack"] 13: Slack
assign [app_id="^FFPWA-.*"] 13: Slack
assign [app_id="signal beta"] 12: Pidgin
assign [class="signal"] 12: Pidgin
assign [app_id=".*KeePassXC$"] 11: Keepass
assign [app_id="evolution"] 100: WorkConsole

# startup apps
exec --no-startup-id keepassxc
exec --no-startup-id librewolf
exec --no-startup-id /usr/bin/firefoxpwa site launch 01JSCE590DW14AWY07GXNXFR2K
exec --no-startup-id signal

exec --no-startup-id cron_notify_setup

exec --no-startup-id rem -z -k'notify-send %s &'

exec --no-startup-id special_mode_exit

#screensaver + lock on screen saver
exec_always --no-startup-id xautolock -time 15 -locker i3lock
